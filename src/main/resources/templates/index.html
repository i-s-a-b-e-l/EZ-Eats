<!DOCTYPE html>
<html  xmlns:th="http://www.w3.org/1999/xhtml" lang="en">
<head>
    <meta charset="UTF-8">
    <title>EZEats</title>
    <meta name = "viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="../static/style.css">

</head>
<body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <script>
        document.getElementById("calc").addEventListener("click", function() {
            var message = "The form is incomplete. Please complete the form before trying to generate the meal plan.";

            // // check radios
            // var radios = document.querySelector('input[type="radio"]');
            // for (var i = 0; i < radios.length; i++) {
            //     if (radios[i]) {
            //         alert(message);
            //         break;
            //     }
            // }

            // check txt
            var txts = document.querySelector('input[type="number"]');
            for (var i = 0; i < txts.length; i++) {
                if (txts[i]) {
                    alert(message);
                    break;
                }
            }
            // check dropdown
            var dropdown = document.getElementById("activitylevel").value;
            if (dropdown === "") {
                alert(message);
            }
            var dropdown2 = document.getElementById("pref").value;
            if (dropdown2 === "") {
                alert(message);
            }

            var dropdown3 = document.getElementById("goal").value;
            if (dropdown3 === "") {
                alert(message);
            }

            var dropdown4 = document.getElementById("gender").value;
            if (dropdown4 === "") {
                alert(message);
            }
        });
    </script>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Navbar</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Link</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <h1 class="text-center fs-2">EZ Eats</h1>
    <h2 class="text-center fs-4">A personalized diet builder</h2>
    <form th:action="@{/diet}" th:object="${person}" method="post">
        <div class="container-flex mx-5 px-5">
            <div class="dropdown mb-sm-2">
                <select class="form-select" id="pref" aria-label="Floating label select example" th:field="*{pref}">
                    <option selected value="null">Diet Preference</option>
                    <option th:each="pref : ${T(com.eat.diet.repo.model.Pref).values()}"
                            th:value="${pref}" th:text="${pref.displayValue}"></option>
                </select>
            </div>

            <div class="dropdown mb-sm-2">
                <select class="form-select" id="goal" aria-label="Floating label select example" th:field="*{goal}">
                    <option selected value="null">Weight Goal</option>
                    <option th:each="goal : ${T(com.eat.diet.repo.model.Goal).values()}"
                            th:value="${goal}" th:text="${goal.displayValue}"></option>
                </select>
            </div>

            <div class="dropdown mb-sm-2">
                <select class="form-select" id="gender" aria-label="Floating label select example" th:field="*{gender}">
                    <option selected value="null">Gender</option>
                    <option th:each="gender : ${T(com.eat.diet.repo.model.Gender).values()}"
                            th:value="${gender}" th:text="${gender.displayValue}"></option>
                </select>
            </div>

            <div class="form-floating mb-sm-2">
                <input type="number" class="form-control" th:field="*{weight}" id="weight" placeholder="Weight">
                <label for="weight">Weight</label>
            </div>
            <div class="form-floating mb-sm-2">
                <input type="number" class="form-control" th:field="*{bodyFat}" id="bodyFat" placeholder="Body-fat">
                <label for="bodyFat">Body-fat</label>
            </div>
            <div class="form-floating mb-sm-2">
                <input type="number" class="form-control" name="age" id="age" placeholder="Age">
                <label for="age">Age</label>
            </div>

            <div class="dropdown mb-sm-2">
                <select class="form-select" id="activityLevel" aria-label="Floating label select example" th:field="*{activityLevel}">
                    <option selected value="null">Activity Level</option>
                    <option th:each="lvl : ${T(com.eat.diet.repo.model.ActivityLevel).values()}"
                            th:value="${lvl}" th:text="${lvl.displayValue}"></option>
                </select>
            </div>
            <div class="mb-sm-2 text-center">
                <input class="btn btn-primary" id="calc" type="submit" value="Calculate">
            </div>
        </div>
    </form>
</body>
</html>